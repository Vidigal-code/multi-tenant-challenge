PORT=4000
WORKER_PORT=4001
NODE_ENV=development


DATABASE_URL=postgresql://postgres:postgres@localhost:5432/multitenant?schema=public


# --- CONFIGURAÇÃO DO JWT / JWT CONFIGURATION ---
JWT_SECRET=secret                     # Segredo do JWT / JWT secret (default para dev/teste)
JWT_EXPIRES_IN=7d                     # Tempo de expiração do token / Token expiration time
JWT_ALGORITHM=HS256                    # Algoritmo do JWT / JWT algorithm
JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
MIIBVwIBADANBgkqhkiG9w0BAQEFAASCAT8wggE7AgEAAkEAu0K...
-----END PRIVATE KEY-----"            # Chave privada do JWT / JWT private key
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEu0K...
-----END PUBLIC KEY-----"             # Chave pública do JWT / JWT public key

COOKIE_NAME=mt_session


INVITE_TOKEN_BYTES=24
INVITE_EXPIRES_DAYS=7


RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100


BCRYPT_COST=10

REDIS_URL=redis://localhost:6379


RABBITMQ_URL=amqp://guest:guest@localhost:5672

RABBITMQ_PREFETCH=50
RABBITMQ_RETRY_MAX=5


FRONTEND_BASE_URL=http://localhost:3000

# CORS - multiple sites supported
# CORS - múltiplos sites suportados
#CORS_SITES_ENABLES=[www.example.com,www.example2.com]
#CORS_SITES_ENABLES=www.example.com,www.example2.com
#CORS_SITES_ENABLES=http://www.example.com,https://www.example2.com
CORS_SITES_ENABLES=http://localhost:3000
CORS_SITES_ENABLES_ALL=true

WS_NAMESPACE=/rt

# WebSocket CORS - multiple sites supported
# WebSocket CORS - múltiplos sites suportados
#WS_CORS_ORIGIN=[www.example.com,www.example2.com]
#WS_CORS_ORIGIN=www.example.com,www.example2.com
#WS_CORS_ORIGIN=http://www.example.com,https://www.example2.com
WS_CORS_ORIGIN=http://localhost:3000
WS_CORS_ORIGIN_ALL=true

USE_WS_REDIS_ADAPTER=false

WS_RATE_LIMIT_WINDOW_MS=1000
WS_RATE_LIMIT_MAX=50
WS_RATE_LIMIT_MAX_NOTIFICATION_CREATED=120
WS_INBOUND_RATE_LIMIT_WINDOW_MS=1000
WS_INBOUND_RATE_LIMIT_MAX=30

WORKER_CAPACITY_SHARING_FACTOR=256

# Prisma logging levels: query,info,warn,error
# Leave empty, set to "false" or "none" to disable logs
PRISMALOG=false

BACKEND_LOGGING=false
RABBITMQ_LOGGING=false
WEBSOCKET_LOGGING=false

# --- CONFIGURAÇÃO DE CAPACIDADE / CAPACITY CONFIGURATION ---
WORKER_CAPACITY_SHARING_FACTOR=256  # Fator de compartilhamento de capacidade / Capacity sharing factor

# --- CONFIGURAÇÃO DO JWT / JWT CONFIGURATION ---
WORKER_JWT_ALGORITHM=ES256           # Algoritmo do JWT / JWT algorithm
WORKER_JWT_SECRET=teste1234567890    # Segredo simples para dev/teste / Simple secret for dev/test
WORKER_JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
MIIBVwIBADANBgkqhkiG9w0BAQEFAASCAT8wggE7AgEAAkEAu0K...
-----END PRIVATE KEY-----"          # Chave privada do JWT / JWT private key
WORKER_JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEu0K...
-----END PUBLIC KEY-----"           # Chave pública do JWT / JWT public key
WORKER_JWT_EXPIRES_IN=7d            # Tempo de expiração do token / Token expiration time
WORKER_JWT_COOKIE_NAME=session       # Nome do cookie usado para o token / Cookie name used for token

QUERY_CACHE_TTL_SECONDS=300              # TTL do cache (padrão: 5 minutos) / Cache TTL (default: 5 minutes)
QUERY_CACHE_CLEANUP_INTERVAL_MS=60000    # Intervalo de limpeza do cache (padrão: 60 segundos) / Cache cleanup interval (default: 60 seconds)

# Processamento de requisições GET / GET requests processing
QUERY_BATCH_SIZE=10                      # Tamanho do lote de requisições / Batch size for queries
QUERY_BATCH_TIMEOUT_MS=1000              # Timeout para lote parcial / Timeout for partial batches

# Operações em Massa / Bulk operations
INVITE_BATCH_SIZE=50                    # Tamanho do lote de convites / Batch size for invitations
NOTIFICATION_BATCH_SIZE=50              # Tamanho do lote de notificações / Batch size for notifications
